package codegears.DEPuzzles.ui;

import codegears.DEPuzzles.R;
import android.content.Context;
import android.util.AttributeSet;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.LinearLayout;

public class KeyPad extends LinearLayout implements OnClickListener {

	private Button b_q;
	private Button b_w;
	private Button b_e;
	private Button b_r;
	private Button b_t;
	private Button b_y;
	private Button b_u;
	private Button b_i;
	private Button b_o;
	private Button b_p;
	private Button b_a;
	private Button b_s;
	private Button b_d;
	private Button b_f;
	private Button b_g;
	private Button b_h;
	private Button b_j;
	private Button b_k;
	private Button b_l;
	private Button b_mode;
	private Button b_z;
	private Button b_x;
	private Button b_c;
	private Button b_v;
	private Button b_b;
	private Button b_n;
	private Button b_m;
	private Button b_back;
	private KeyPadListener listener;
	private int mode; // CrosswordsTile.TEXT

	public KeyPad(Context context, AttributeSet attrs) {
		super(context, attrs);
		View.inflate(context, R.layout.ui_keypad, this);
		b_q = (Button) findViewById(R.id.KeyPadQ);
		b_q.setOnClickListener(this);
		b_w = (Button) findViewById(R.id.KeyPadW);
		b_w.setOnClickListener(this);
		b_e = (Button) findViewById(R.id.KeyPadE);
		b_e.setOnClickListener(this);
		mode = CrosswordsTile.TEXT_PEN;
		b_mode = (Button) findViewById(R.id.KeyPadMode);
		b_mode.setOnClickListener(this);
	}

	public void setKeyPadListener(KeyPadListener listener) {
		this.listener = listener;
	}

	@Override
	public void onClick(View v) {
		String key = "";
		if (v.equals(b_q)) {
			key = "Q";
		} else if (v.equals(b_e)) {
			key = "E";
		} else if (v.equals(b_w)) {
			key = "W";
		} else if (v.equals(b_mode)) {
			if(mode == CrosswordsTile.TEXT_PEN){
				mode = CrosswordsTile.TEXT_PENCIL;
				b_mode.setText("-");
			} else if(mode == CrosswordsTile.TEXT_PENCIL){
				mode = CrosswordsTile.TEXT_MULTI;
				b_mode.setText("*");
			} else if(mode == CrosswordsTile.TEXT_MULTI){
				mode = CrosswordsTile.TEXT_PEN;
				b_mode.setText("+");
			}
			return;
		}
		listener.onKeyPad(mode, key);
	}

}
